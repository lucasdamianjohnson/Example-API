<html>



<script>

var loadJSON =  (url,callback) =>  {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {

      var json = JSON.parse(this.responseText);
     // console.log(json);
     // console.log(json[0]['name']);
      callback(json);
    }
  };
  xhttp.open("GET", url, true);
  xhttp.send();
}

var callback = (json) => {

var html = `
<table>
<th>Name</th>
<th>Arch</th>
<th>Threads</th>
`;

json.forEach( (data) => {
   console.log(data);
html += `
<tr>
<td>${data.name}</td>
<td>${data.arch}</td>
<td>${data.threads}</td>
</tr>
`;


} );

 html += `</table>`;

document.getElementById('data').innerHTML = html;

}

loadJSON('api.php',callback);




</script>

<body>
<div id='data'></div>



</body>


</html>
